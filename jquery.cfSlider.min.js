/*
 * 안녕하세요 코드팩토리입니다. http://codefactory.kr, [프로그램 개발문의] master@codefactory.kr
 * 이 프로그램은 아무런 제약없이 복사/수정/재배포 하셔도 되며 주석을 지우셔도 됩니다.
 * 감사합니다.
 */
(function(a){a.fn.cfSlider=function(b){var c={container:".container",item:".item",display:1,move:1,direction:"horizontal",speed:400,prevBtn:".prev",nextBtn:".next",eventType:"click",prevEventType:null,nextEventType:null,callback:null};b=a.extend({},c,b);return this.each(function(){function n(a){if(d.is(":animated")){return}var c={},e=parseInt(d.css(j));if(a==="prev"){var g=e+i*b.move;if(Math.abs(e)/i<b.move){d.css(j,e-i*f);g=g-i*f}}else if(a==="next"){var g=e-i*b.move;if(f+b.display*2-(Math.abs(e)/i+b.display)<b.move){d.css(j,e+i*f);g=g+i*f}}c[j]=g;d.animate(c,b.speed,b.callback!=null?function(){var a=d.find(b.item);b.callback(a.slice(Math.abs(g)/i,Math.abs(g)/i+b.display))}:null)}var c=a(this),d=c.find(b.container),e=d.find(b.item).not(".cfslider_clone"),f=e.length,g=e.slice(0,b.display).clone(),h=e.slice(f-b.display,f).clone(),i=b.direction==="horizontal"?e.first().width():e.first().height(),j=b.direction==="horizontal"?"marginLeft":"marginTop",k=a(b.prevBtn),l=a(b.nextBtn);h.each(function(){a(this).addClass("cfslider_clone")});g.each(function(){a(this).addClass("cfslider_clone")});c.css("overflow","hidden");d.empty();d.append(h,e,g);var m={};m["width"]=b.direction==="horizontal"?i*(f+b.display*2):i;m[j]=-(i*b.display);d.css(m);k.unbind(b.eventType+".cfSlider").bind(b.eventType+".cfSlider",function(){n("prev")});l.unbind(b.eventType+".cfSlider").bind(b.eventType+".cfSlider",function(){n("next")});if(b.prevEventType&&b.nextEventType){c.unbind(b.prevEventType+".cfSlider").bind(b.prevEventType+".cfSlider",function(){n("prev")});c.unbind(b.nextEventType+".cfSlider").bind(b.nextEventType+".cfSlider",function(){n("next")})}})}})(jQuery)