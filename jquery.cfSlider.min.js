/*
 * 안녕하세요 코드팩토리입니다. http://codefactory.kr, [프로그램 개발문의] master@codefactory.kr
 * 이 프로그램은 아무런 제약없이 복사/수정/재배포 하셔도 되며 주석을 지우셔도 됩니다.
 * 감사합니다.
 */
(function(a,b,c,d){function h(a,b,c,e,f,g,h){if(b.is(":animated")){return}var i={},h=h===d?parseInt(b.css(c)):h;if(a==="prev"){var j=h+e*g.move;i[c]=j;b.animate(i,g.speed,function(){if(Math.abs(h)/e<=(g.move>g.display?g.move:g.display)){j=j-e*f;b.css(c,j)}if(g.callback!=null){var a=b.find(g.item);g.callback(a.slice(Math.abs(j)/e,Math.abs(j)/e+g.display))}})}else if(a==="next"){var j=h-e*g.move;i[c]=j;b.animate(i,g.speed,function(){if(f+g.display*2-(Math.abs(h)/e+g.display)<=(g.move>g.display?g.move:g.display)){j=j+e*f;b.css(c,j)}if(g.callback!=null){var a=b.find(g.item);g.callback(a.slice(Math.abs(j)/e,Math.abs(j)/e+g.display))}})}}function g(b,c){this.element=b;this.options=a.extend({},f,c);this._defaults=f;this._name=e;this.init()}var e="cfSlider",f={container:".container",item:".item",display:1,move:1,direction:"horizontal",speed:400,prevBtn:".prev",nextBtn:".next",eventType:"click",prevEventType:null,nextEventType:null,callback:null};g.prototype.init=function(){var b=a(this.element),c=this.options,d=b.find(c.container),e=d.find(c.item).not(".cfslider_clone"),f=e.length,g=e.slice(0,c.display).clone(),i=e.slice(f-c.display,f).clone(),j=c.direction==="horizontal"?e.first().width():e.first().height(),k=c.direction==="horizontal"?"marginLeft":"marginTop",l=a(c.prevBtn),m=a(c.nextBtn);this.container=d;this.marginType=k;this.itemSize=j;this.itemLength=f;i.each(function(){a(this).addClass("cfslider_clone")});g.each(function(){a(this).addClass("cfslider_clone")});b.css("overflow","hidden");d.empty();d.append(i,e,g);var n={};n["width"]=c.direction==="horizontal"?j*(f+c.display*2):j;n[k]=-(j*c.display);d.css(n);l.unbind(c.eventType+".cfSlider").bind(c.eventType+".cfSlider",function(){h("prev",d,k,j,f,c)});m.unbind(c.eventType+".cfSlider").bind(c.eventType+".cfSlider",function(){h("next",d,k,j,f,c)});if(c.prevEventType&&c.nextEventType){b.unbind(c.prevEventType+".cfSlider").bind(c.prevEventType+".cfSlider",function(){h("prev",d,k,j,f,c)});b.unbind(c.nextEventType+".cfSlider").bind(c.nextEventType+".cfSlider",function(){h("next",d,k,j,f,c)})}};g.prototype.go=h;a.fn[e]=function(b){return this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new g(this,b))}})}})(jQuery,window,document)