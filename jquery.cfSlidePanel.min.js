/*
 * 안녕하세요 코드팩토리입니다. http://codefactory.kr, [프로그램 개발문의] master@codefactory.kr
 * 이 프로그램은 아무런 제약없이 복사/수정/재배포 하셔도 되며 주석을 지우셔도 됩니다.
 * 감사합니다.
 */
(function(a,b,c,d){function k(b,c){this.element=b;this.options=a.extend({},f,c);this._defaults=f;this._name=e;this.init()}function l(b,c,e){b.data("plugin_cfSlider","");b.cfSlider({speed:c.speed,container:".cf-slide-panel-ul",item:".cf-slide-panel-item",prevEventType:"cf-slide-panel-prev",nextEventType:"cf-slide-panel-next",prevBtn:c.prevBtn,nextBtn:c.nextBtn,callback:function(b){sessionStorage.cfSlidePanelCurrentIndex=a(b).data("index");if(typeof c.getIndex==="function"){c.getIndex(a(b).data("index"))}}}).each(function(){if(sessionStorage.cfSlidePanelCurrentIndex!=d){a(".cf-slide-panel-ul").css({marginLeft:-(e*(parseInt(sessionStorage.cfSlidePanelCurrentIndex)+1))+"px"})}var f=b.data("plugin_cfSlider");b.unbind(".cfSlidePanel");b.bind("mousedown.cfSlidePanel touchstart.cfSlidePanel",function(a){if(f.container.is(":animated")){return}g=parseInt(f.container.css("marginLeft"));h=i=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.pageX;b.bind("mousemove.cfSlidePanel touchmove.cfSlidePanel",{options:c},m);b.bind("mouseup.cfSlidePanel touchend.cfSlidePanel",{cfSlider:f,options:c,elem:b},n)})})}function m(b){j=i;i=b.originalEvent&&b.originalEvent.touches?b.originalEvent.touches[0].pageX:b.pageX;if(Math.abs(i-h)>10){b.preventDefault();if(a(this).find("ul.cf-slide-panel-ul").is(":animated")){return}var c=a(this).find("ul.cf-slide-panel-ul"),d=parseInt(c.css("marginLeft"));c.css("marginLeft",d-(j-(i?i:b.pageX)))}else{return}}function n(a){var b=a.data.cfSlider,c=a.data.options,d=a.data.elem;if(b.container.is(":animated")){return}if(Math.abs(i-h)<c.touchMoveLength){b.container.animate({marginLeft:g},"fast")}else if(i>h){b.go("prev",b.container,b.marginType,b.itemSize,b.itemLength,b.options,g)}else{b.go("next",b.container,b.marginType,b.itemSize,b.itemLength,b.options,g)}d.unbind("mousemove.cfSlidePanel touchmove.cfSlidePanel mouseup.cfSlidePanel touchend.cfSlidePanel")}var e="cfSlidePanel",f={speed:400,touchMoveLength:100,getIndex:null,prevBtn:".prev",nextBtn:".next"};var g=0,h=0,i=0,j=0;k.prototype.init=function(){var c=a(this.element),e=this.options,f=c.find(".panel"),g=f.length,h=c.width();f.hide();var i=a("<ul />",{"class":"cf-slide-panel-ul"}).css({listStyle:"none",margin:0,padding:0,width:h*g}).appendTo(this.element);f.each(function(b){a("<li />",{"class":"cf-slide-panel-item",html:this,"data-index":b}).css({"float":"left",width:h}).appendTo(i)});f.show();sessionStorage.cfSlidePanelCurrentIndex=d;l(c,e,h);a(b).bind("resize",function(){setTimeout(function(){var b=c.width();a("div.cf-slide-panel-container").css({width:b});a("li.cf-slide-panel-item").css({width:b});l(c,e,b)},100)})};a.fn[e]=function(b){return this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new k(this,b))}})}})(jQuery,window,document)